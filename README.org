#+TITLE: fest-assert-goodies
#+author: Denis Labaye
#+STARTUP: indent
#+STARTUP: hidestars odd

* What's this ? 

   [[http://docs.codehaus.org/display/FEST/Fluent%2BAssertions%2BModule][fest-assert]] is a great Java testing library.

  fest-assert-goodies adds extra assertions to it.

  Right now there's: 

  - =DeepEqual= : Deep compare two objects, compared objects don't
    need to override =equals=.
  - =XmlEquals= : Compare two XML strings, formatting is ignored.

* Two minutes tutorial

*** Maven setup

***** TODO Add Maven repository to your =pom.xml=

#+BEGIN_SRC xml
<repositories>
<repository>
<id>fest-assert-goodies-repo</id>
<url>https://denlab-maven-repository.googlecode.com/svn/repository</url>
</repository>
</repositories>
#+END_SRC

***** TODO Add dependency to your =pom.xml=

#+BEGIN_SRC xml
<dependencies>
<dependency>
<groupId>org</groupId>
<artifactId>fest-assert-goodies</artifactId>
<version>1.0.0</version>
<scope>test</scope>
</dependency>
</dependencies>
#+END_SRC
   

** Using

***** =XmlEqual=

#+BEGIN_SRC java
	@Test
	public void testXmlEqual() {
		assertThat(new XmlEqual("<a><b x='1'></b></a>")).isXmlEqual(
				"    <a><b x='2'></b></a>");
	}
#+END_SRC

      - XML formating is ignored.
      - Diff view in Eclipse :
[[http://img811.imageshack.us/img811/2521/comparisonxml.png]]

***** =DeepEqual=

#+BEGIN_SRC java
	@Test
	public void testIsDeepEqual() throws Exception {
		OuterClass actual = new OuterClass(new InnerClass("inner_"), "outer");
		OuterClass expected = new OuterClass(new InnerClass("inner"), "outer");

		assertThat(new DeepEqual(actual)).isDeepEqual(expected);
	}
#+END_SRC
      
      - Compared objects don't need to override =equals=.
      - Diff view in Eclipse :
[[http://img52.imageshack.us/img52/7918/comparisondeep.png]]

* Additional infos

*** License

    Apache 2.0
